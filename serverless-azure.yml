service: sls-movie-api

provider:
  name: azure
  resourceGroup: sls-movie-api
  location: East US
  runtime: nodejs14
  apim: true

functions:
  graphql:
    handler: src/apollo-server.graphqlHandler
    events:
      - http:
          path: graphql
          method: POST
        authLevel: anonymous
      - http: true
        x-azure-settings:
          direction: out
          name: $return

plugins:
  - serverless-azure-functions
  - serverless-webpack

custom:
  webpack:
    includeModules: true
